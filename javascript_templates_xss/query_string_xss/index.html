<!DOCTYPE html>
<html>
<head>
  <title>Query String XSS</title>
  <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
</head>
<body>
  <h1>A Simple XSS Attack</h1>
  <h2>This page puts each key-value pair onto the page as an element and contents.</h2>
  <h3>Name: <span id="name"></span></h3>
    <script> 
    var query = (function(a) {
        if (a == "") return {};
        var b = {};
        for (var i = 0; i < a.length; ++i)
        {
            var p=a[i].split('=');
            if (p.length != 2) continue;
            b[p[0]] = decodeURIComponent(p[1].replace(/\+/g, " "));
        }
        return b;
    })(window.location.search.substr(1).split('&'))

    $.each(query, function(k,v){
      $("#" + k).html(v);
    });
  </script>
</body>
</html>